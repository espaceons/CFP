{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">

  <h2>{{ formation.nom }}</h2>

  <p><strong>Description :</strong> {{ formation.description }}</p>
  <p><strong>Objectifs :</strong> {{ formation.objectifs }}</p>
  <p><strong>Pr√©requis :</strong> {{ formation.prerequis }}</p>
  <p><strong>Dur√©e :</strong> {{ formation.duree_heures }} heures</p>

  <hr>

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4>Sessions associ√©es</h4>

    <!-- ‚ûï Bouton pour ajouter une nouvelle session -->
    <a href="{% url 'gestion_formations:session_add_to_formation' formation.pk %}" class="btn btn-success">
      ‚ûï Ajouter une Session
    </a>
  </div>

  <!-- Tableau des sessions -->
  {% if sessions %}
    <div class="table-responsive">
      <table class="table table-bordered table-striped align-middle">
        <thead class="table-dark">
          <tr>
            <th>Titre</th>
            <th>Statut</th>
            <th>Date de d√©but</th>
            <th>Date de fin</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for session in sessions %}
          <tr>
            <td>{{ session.titre }}</td>
            <td>{{ session.get_statut_display }}</td>
            <td>{{ session.date_debut|date:"d/m/Y" }}</td>
            <td>{{ session.date_fin|date:"d/m/Y" }}</td>
            <td>
              <!-- Boutons Modifier / Supprimer -->
              <a href="{% url 'gestion_formations:session_update' session.pk %}" class="btn btn-sm btn-primary">
                ‚úèÔ∏è Modifier
              </a>
              <a href="{% url 'gestion_formations:session_delete' session.pk %}" class="btn btn-sm btn-danger" onclick="return confirm('Confirmer la suppression de cette session ?');">
                üóëÔ∏è Supprimer
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-muted">Aucune session disponible pour cette formation.</p>
  {% endif %}

</div>
{% endblock %}
